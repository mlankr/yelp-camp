<% layout('layouts/boilerplate') %>
<%- include('../partials/modal') %>

<div id="cluster-map"></div>
<h1 class="text-center my-4">All Campgrounds</h1>
<div id="campgrounds-list" class="card mb-5 campgrounds-list">
    <div class="campground-list-items">
        <%- include('../partials/campgroundItems', {campgrounds}) %>
    </div>
    <div class="spinner text-center py-3">
        <div class="spinner-border" role="status">
            <span class="visually-hidden">Loading...</span>
        </div>
    </div>
</div>

<script>
    const mapToken = '<%- process.env.MAPBOX_TOKEN %>';
    const campgroundsData = {features: <%- JSON.stringify(allCampgrounds) %>};
</script>

<script src="/dist/js/clusterMap.min.js"></script>
<script src="/dist/js/modal.min.js"></script>
<script src="/dist/js/campgrounds.min.js"></script>